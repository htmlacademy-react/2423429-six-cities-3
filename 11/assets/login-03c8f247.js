import{r as l,u,a as _,b as x,A as f,c as j,j as a,H as N,s as m,l as w}from"./index-34486387.js";function R(){const n=l.useRef(null),t=l.useRef(null),e=u(s=>s.isAuthLoading),o=u(s=>s.authorizationStatus),r=_(),c=x();l.useEffect(()=>{o===f.Auth&&c(j.Root)},[o,c]);const p=s=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(s),g=s=>/^(?=.*[a-zA-Z])(?=.*\d).+$/.test(s),h=async s=>{if(s.preventDefault(),!n.current||!t.current)return;const i=n.current.value.trim(),d=t.current.value.trim();if(!(p(i)&&g(d))){r(m("password should contain at least one letter and on number and email should be valid"));return}try{await r(w({login:i,password:d})).unwrap()}catch{r(m("Failed to login. Please try again."))}};return a.jsxs("div",{className:"page page--gray page--login",children:[a.jsx(N,{showNav:!1}),a.jsx("main",{className:"page__main page__main--login",children:a.jsxs("div",{className:"page__login-container container",children:[a.jsxs("section",{className:"login",children:[a.jsx("h1",{className:"login__title",children:"Sign in"}),a.jsxs("form",{className:"login__form form",action:"#",onSubmit:h,method:"post",children:[a.jsxs("div",{className:"login__input-wrapper form__input-wrapper",children:[a.jsx("label",{className:"visually-hidden",children:"E-mail"}),a.jsx("input",{ref:n,className:"login__input form__input",type:"email",name:"email",placeholder:"Email",required:!0,disabled:e})]}),a.jsxs("div",{className:"login__input-wrapper form__input-wrapper",children:[a.jsx("label",{className:"visually-hidden",children:"Password"}),a.jsx("input",{ref:t,className:"login__input form__input",type:"password",name:"password",placeholder:"Password",required:!0,disabled:e})]}),a.jsx("button",{className:"login__submit form__submit button",type:"submit",disabled:e,children:e?"Signing in...":"Sign in"})]})]}),a.jsx("section",{className:"locations locations--login locations--current",children:a.jsx("div",{className:"locations__item",children:a.jsx("a",{className:"locations__item-link",href:"#",children:a.jsx("span",{children:"Amsterdam"})})})})]})})]})}export{R as default};
