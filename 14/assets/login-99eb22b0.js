import{r as t,u as d,g,a as h,b as _,c as x,A as f,d as j,j as a,H as N,s as u,l as w}from"./index-5c63d30f.js";const v=s=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(s),b=s=>/^(?=.*[a-zA-Z])(?=.*\d).+$/.test(s);function y(){const s=t.useRef(null),e=t.useRef(null),i=d(g),r=d(h),n=_(),l=x();t.useEffect(()=>{r===f.Auth&&l(j.Root)},[r,l]);const m=async p=>{if(p.preventDefault(),!s.current||!e.current)return;const o=s.current.value.trim(),c=e.current.value.trim();if(!(v(o)&&b(c))){n(u("password should contain at least one letter and one number and email should be valid"));return}try{await n(w({login:o,password:c})).unwrap()}catch{n(u("Failed to login. Please try again."))}};return a.jsxs("div",{className:"page page--gray page--login",children:[a.jsx(N,{showNav:!1}),a.jsx("main",{className:"page__main page__main--login",children:a.jsxs("div",{className:"page__login-container container",children:[a.jsxs("section",{className:"login",children:[a.jsx("h1",{className:"login__title",children:"Sign in"}),a.jsxs("form",{className:"login__form form",action:"#",onSubmit:m,method:"post",children:[a.jsxs("div",{className:"login__input-wrapper form__input-wrapper",children:[a.jsx("label",{className:"visually-hidden",children:"E-mail"}),a.jsx("input",{ref:s,className:"login__input form__input",type:"email",name:"email",placeholder:"Email",required:!0,disabled:i})]}),a.jsxs("div",{className:"login__input-wrapper form__input-wrapper",children:[a.jsx("label",{className:"visually-hidden",children:"Password"}),a.jsx("input",{ref:e,className:"login__input form__input",type:"password",name:"password",placeholder:"Password",required:!0,disabled:i})]}),a.jsx("button",{className:"login__submit form__submit button",type:"submit",disabled:i,children:i?"Signing in...":"Sign in"})]})]}),a.jsx("section",{className:"locations locations--login locations--current",children:a.jsx("div",{className:"locations__item",children:a.jsx("a",{className:"locations__item-link",href:"#",children:a.jsx("span",{children:"Amsterdam"})})})})]})})]})}export{y as default};
