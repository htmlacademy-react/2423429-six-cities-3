import{r,u as d,g as p,a as g,b as h,c as _,A as x,d as f,j as a,H as j,s as u,l as N}from"./index-c09dc745.js";const w=s=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(s),v=s=>/^(?=.*[a-zA-Z])(?=.*\d).+$/.test(s);function S(){const s=r.useRef(null),e=r.useRef(null),i=d(p),l=d(g),t=h(),o=_();r.useEffect(()=>{l===x.Auth&&o(f.Root)},[l,o]);const m=async()=>{if(!s.current||!e.current)return;const n=s.current.value.trim(),c=e.current.value.trim();if(!(w(n)&&v(c))){t(u("password should contain at least one letter and one number and email should be valid"));return}try{await t(N({login:n,password:c})).unwrap()}catch{t(u("Failed to login. Please try again."))}};return a.jsxs("div",{className:"page page--gray page--login",children:[a.jsx(j,{showNav:!1}),a.jsx("main",{className:"page__main page__main--login",children:a.jsxs("div",{className:"page__login-container container",children:[a.jsxs("section",{className:"login",children:[a.jsx("h1",{className:"login__title",children:"Sign in"}),a.jsxs("form",{className:"login__form form",action:"#",onSubmit:n=>{n.preventDefault(),m()},method:"post",children:[a.jsxs("div",{className:"login__input-wrapper form__input-wrapper",children:[a.jsx("label",{className:"visually-hidden",children:"E-mail"}),a.jsx("input",{ref:s,className:"login__input form__input",type:"email",name:"email",placeholder:"Email",required:!0,disabled:i})]}),a.jsxs("div",{className:"login__input-wrapper form__input-wrapper",children:[a.jsx("label",{className:"visually-hidden",children:"Password"}),a.jsx("input",{ref:e,className:"login__input form__input",type:"password",name:"password",placeholder:"Password",required:!0,disabled:i})]}),a.jsx("button",{className:"login__submit form__submit button",type:"submit",disabled:i,children:i?"Signing in...":"Sign in"})]})]}),a.jsx("section",{className:"locations locations--login locations--current",children:a.jsx("div",{className:"locations__item",children:a.jsx("a",{className:"locations__item-link",href:"#",children:a.jsx("span",{children:"Amsterdam"})})})})]})})]})}export{S as default};
